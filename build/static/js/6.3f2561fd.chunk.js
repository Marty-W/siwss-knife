(this["webpackJsonpswiss-knifev2"]=this["webpackJsonpswiss-knifev2"]||[]).push([[6],{250:function(e,n,t){"use strict";var r=t(5),a=t(1),c=t.n(a),o=t(17),i=t(4);function u(){var e=Object(r.a)(["\n  position: absolute;\n  cursor: pointer;\n  width: 3rem;\n  height: 3rem;\n  bottom: 0;\n  right: 0;\n"]);return u=function(){return e},e}var l=Object(i.d)(o.c.svg)(u());n.a=function(e){var n=e.onClick;return c.a.createElement(l,{xmlns:"http://www.w3.org/2000/svg",fill:"#F02D3A",viewBox:"0 0 50 50",width:"50px",height:"50px",whileHover:{scale:1.1},onClick:n},c.a.createElement("path",{d:"M25,2C12.317,2,2,12.317,2,25s10.317,23,23,23s23-10.317,23-23S37.683,2,25,2z M37,26H26v11h-2V26H13v-2h11V13h2v11h11V26z"}))}},576:function(e,n,t){"use strict";t.r(n);var r=t(5),a=t(6),c=t(10),o=t(1),i=t.n(o),u=t(4),l=t(13),d=t.n(l),s=t(25),m=t(573),f=t(569),p=t(570),b=t(42),v=t(325),g=t(26),h=t(309),j=t(568),O=t(541),y=t(581);function E(){var e=Object(r.a)(["\n  grid-column: 2 / span 1;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  padding: 0.1em 0;\n  border-radius: 25px;\n  justify-self: center;\n  min-width: ",";\n\n  & div {\n    text-align: center;\n    padding: 0.1em;\n    color: ",";\n    width: 1.1rem;\n    border-radius: 50%;\n    background-color: ",";\n  }\n"]);return E=function(){return e},e}function k(){var e=Object(r.a)(["\n  grid-column: 3 / span 1;\n  font-size: 0.7rem;\n"]);return k=function(){return e},e}function w(){var e=Object(r.a)(["\n  grid-column: 1 / span 1;\n  font-size: 0.7rem;\n"]);return w=function(){return e},e}function x(){var e=Object(r.a)(["\n  grid-column: 1 / -1;\n  grid-row: 2;\n  font-size: 1.1rem;\n"]);return x=function(){return e},e}function C(){var e=Object(r.a)(["\n  grid-area: streaks;\n  align-self: stretch;\n  justify-self: stretch;\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr;\n  grid-template-rows: 5% repeat(auto-fit, minmax(1rem, 3rem));\n  grid-row-gap: 1em;\n  place-items: center;\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 0.5rem;\n\n  & span {\n    align-self: flex-start;\n    font-size: 0.7rem;\n  }\n"]);return C=function(){return e},e}var D=u.d.div(C(),(function(e){return e.color})),z=u.d.div(x()),M=u.d.p(w()),S=u.d.p(k()),L=u.d.div(E(),(function(e){return e.color}),(function(e){return e.barWidth}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.tertiary})),P=function(e){var n=e.timePoints,t=e.habitColor,r=function(e){var n,t=[],r=0,a=null,c=Object(h.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value;a&&(i=a.end,u=o,1===Object(j.a)(i,u))?a.end=o:t.push(a={start:o,end:o})}}catch(l){c.e(l)}finally{c.f()}var i,u;return{streaks:t.sort((function(e,n){return e.end>n.end?-1:e.end<n.end?1:0})).map((function(e){var n=Object(j.a)(e.start,e.end)+1;return n>r&&(r=n),{start:new Date(e.start),end:new Date(e.end),streak:n}})).filter((function(e){return e.streak>1})),maxStr:r}}(n),a=r.streaks,c=r.maxStr;a.length=4;var o=function(e){return Object(m.a)(e,"d MMM")};return i.a.createElement(D,{color:t},i.a.createElement("span",null,"Streaks:"),i.a.createElement(z,null,i.a.createElement("p",null,"Current streak:"),i.a.createElement("p",null,a[0]&&Object(O.a)(a[0].start)?a[0].streak:0,"days")),a.length>0&&(null===a||void 0===a?void 0:a.map((function(e){return i.a.createElement(i.a.Fragment,{key:Object(y.a)()},i.a.createElement(M,null,o(e.end)),i.a.createElement(L,{color:t,barWidth:"".concat(e.streak/c*100,"%")},i.a.createElement("div",null,e.streak)),i.a.createElement(S,null,o(e.start)))}))))},T=t(19),H=t(34);function V(){var e=Object(r.a)(["\n  grid-area: button;\n  place-self: center;\n"]);return V=function(){return e},e}function F(){var e=Object(r.a)(["\n  grid-area: desc;\n  padding: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  border: 1px solid ",";\n  border-radius: 10px;\n  & span {\n    align-self: start;\n    font-size: 0.7rem;\n    margin-bottom: 0.5rem;\n  }\n"]);return F=function(){return e},e}function A(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 1.3rem;\n  grid-area: name;\n"]);return A=function(){return e},e}function B(){var e=Object(r.a)(["\n  grid-area: cal;\n"]);return B=function(){return e},e}function W(){var e=Object(r.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-rows: 0.1fr 1fr 0.2fr 0.1fr;\n  grid-row-gap: 1rem;\n  grid-template-columns: 1fr 0.7fr;\n  grid-template-areas:\n    'name cal'\n    'streaks cal'\n    'desc cal'\n    'button cal';\n"]);return W=function(){return e},e}var J=u.d.div(W()),q=u.d.div(B()),I=u.d.h2(A(),(function(e){return e.color})),N=u.d.div(F(),(function(e){return e.color})),R=Object(u.d)(g.a)(V()),U=function(e){var n,t=e.hide,r=Object(c.g)().state,a=r.color,o=r.name,l=r.id,g=r.dateArr,h=r.description,j=Object(u.e)(),O=Object(H.a)(),y=Object(b.useToasts)().addToast,E=function(){var e=Object(s.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.b.doc("users/".concat(null===O||void 0===O?void 0:O.uid,"/habitList/").concat(n)),e.prev=1,e.next=4,r.delete();case 4:t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),y(e.t0.message,{appearance:"error"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}();return i.a.createElement(J,null,i.a.createElement(I,{color:a},o),i.a.createElement(P,{timePoints:g,habitColor:a}),i.a.createElement(N,{color:a},i.a.createElement("span",null,"Description:"),i.a.createElement("p",null,h)),i.a.createElement(q,null,i.a.createElement(v.a,{data:(n=g,n?n.map((function(e){var n=new Date(e);return{day:Object(m.a)(n,"yyyy-MM-dd"),value:1}})):null),from:Object(m.a)(Object(f.a)(new Date),"yyyy-MM-dd"),to:Object(m.a)(Object(p.a)(new Date),"yyyy-MM-dd"),direction:"vertical",colors:[a],emptyColor:j.colors.primary,dayBorderColor:j.colors.secondary,monthBorderWidth:0,monthLegendOffset:12,theme:{legends:{text:{color:j.colors.tertiary}}},tooltip:function(e){var n=e.day;return i.a.createElement("strong",{style:{color:"#101119"}},n)}})),i.a.createElement(R,{color:a,onClick:function(){return E(l)},variant:"primary"},"Delete Habit"))},G=t(183);function K(){var e=Object(r.a)([""]);return K=function(){return e},e}function Q(){var e=Object(r.a)([""]);return Q=function(){return e},e}function X(){var e=Object(r.a)(["\n  font-weight: bold;\n  color: ",";\n  place-self: center;\n"]);return X=function(){return e},e}function Y(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n"]);return Y=function(){return e},e}function Z(){var e=Object(r.a)(["\n  grid-column: 2 / -1;\n  grid-row: 1 / span 1;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(3rem, 1fr));\n  grid-template-rows: 1fr;\n  grid-auto-rows: 0px;\n  grid-auto-columns: 0px;\n  overflow: hidden;\n  background-color: ",";\n  border-radius: 8px;\n"]);return Z=function(){return e},e}var $=u.d.div(Z(),(function(e){return e.theme.colors.secondary})),_=u.d.div(Y()),ee=u.d.span(X(),(function(e){return e.theme.colors.accent})),ne=u.d.span(Q()),te=u.d.span(K()),re=function(e){var n=e.days;return i.a.createElement($,null,n.map((function(e,n){var t=Object(m.a)(e,"d"),r=Object(m.a)(e,"LLL");return 0===n?i.a.createElement(ee,{key:Object(y.a)()},"Today"):i.a.createElement(_,{key:Object(y.a)()},i.a.createElement(ne,null,t),i.a.createElement(te,null,r))})))},ae=t(252),ce=t(23),oe=t(449);function ie(){var e=Object(r.a)(["\n  & polyline {\n    stroke: ",";\n  }\n"]);return ie=function(){return e},e}function ue(){var e=Object(r.a)(["\n  & path {\n    stroke: ",";\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  & svg {\n    cursor: pointer;\n    place-self: center;\n  }\n"]);return le=function(){return e},e}var de=u.d.div(le()),se=Object(u.d)(oe.b)(ue(),(function(e){return e.theme.colors.secondary})),me=Object(u.d)(oe.a)(ie(),(function(e){return e.color})),fe=function(e){var n=e.checked,t=void 0!==n&&n,r=e.color,a=e.onCheck,c=e.day;return i.a.createElement(de,{onClick:function(){return a(c,t)}},t?i.a.createElement(me,{color:r}):i.a.createElement(se,{color:r}))};function pe(){var e=Object(r.a)(["\n  color: ",";\n"]);return pe=function(){return e},e}function be(){var e=Object(r.a)(["\n  grid-column: 1 / span 1;\n  place-self: center;\n"]);return be=function(){return e},e}function ve(){var e=Object(r.a)(["\n  display: grid;\n  grid-column: 2 / -1;\n  grid-template-columns: repeat(auto-fit, minmax(3rem, 1fr));\n  grid-template-rows: 1fr;\n  grid-auto-rows: 0px;\n  grid-auto-columns: 0px;\n  overflow: hidden;\n"]);return ve=function(){return e},e}function ge(){var e=Object(r.a)(["\n  display: grid;\n  grid-template-columns: 5rem 1fr;\n  grid-column: 1 / -1;\n  grid-template-rows: 3rem;\n"]);return ge=function(){return e},e}var he=u.d.div(ge()),je=u.d.div(ve()),Oe=Object(u.d)(ce.b)(be()),ye=u.d.span(pe(),(function(e){return e.color})),Ee=function(e){var n=e.color,t=e.name,r=e.id,a=e.timePoints,c=e.description,o=e.toggleDetail,u=e.days,l=Object(H.a)(),m=Object(ae.a)(a).map((function(e){return e.toDate().getTime()})).sort((function(e,n){return e-n})).reverse(),f=Object(b.useToasts)().addToast,p=function(){var e=Object(s.a)(d.a.mark((function e(n,t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=T.b.doc("users/".concat(null===l||void 0===l?void 0:l.uid,"/habitList/").concat(r)),t){e.next=12;break}return e.prev=2,e.next=5,a.update({timePoints:T.c.firestore.FieldValue.arrayUnion(n)});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),f(e.t0.message,{appearance:"error"});case 10:e.next=20;break;case 12:return e.prev=12,e.next=15,a.update({timePoints:T.c.firestore.FieldValue.arrayRemove(n)});case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),f(e.t1.message,{appearance:"error"});case 20:case"end":return e.stop()}}),e,null,[[2,7],[12,17]])})));return function(n,t){return e.apply(this,arguments)}}();return i.a.createElement(he,null,i.a.createElement(Oe,{to:{pathname:"/habits/".concat(r),state:{color:n,name:t,id:r,dateArr:m,description:c}},onClick:o},i.a.createElement(ye,{color:n},t)),i.a.createElement(je,null,u.map((function(e){return i.a.createElement(fe,{color:n,day:e,checked:m.includes(e.getTime()),onCheck:p,key:Object(y.a)()})}))))},ke=t(571),we=t(579),xe=t(71);function Ce(){var e=Object(r.a)(["\n  font-size: 1.3rem;\n  font-style: italic;\n  grid-row: 2 / span 1;\n  grid-column: 2 / -1;\n  margin-top: 2rem;\n  justify-self: center;\n"]);return Ce=function(){return e},e}function De(){var e=Object(r.a)(["\n  display: grid;\n  grid-template-columns: 5rem 1fr;\n  grid-template-rows: 4rem repeat(auto-fill, 3rem);\n"]);return De=function(){return e},e}var ze=u.d.div(De()),Me=u.d.p(Ce()),Se=function(e){var n=e.toggleDetail,t=Object(H.a)(),r=T.b.collection("users/".concat(null===t||void 0===t?void 0:t.uid,"/habitList")),c=Object(G.a)(r),o=Object(a.a)(c,2),u=o[0],l=o[1],d=function(){var e=new Date;return Object(ke.a)({start:Object(we.a)(e,{days:30}),end:e}).reverse()}();return i.a.createElement(ze,null,i.a.createElement(re,{days:d}),!(null===u||void 0===u?void 0:u.length)&&i.a.createElement(Me,null,"Create your first habit to see the dashboard."),l?i.a.createElement(xe.a,null):null===u||void 0===u?void 0:u.map((function(e){var t=e.color,r=e.name,a=e.id,c=e.timePoints,o=e.description;return i.a.createElement(Ee,{days:d,color:t,name:r,id:a,key:a,timePoints:c,description:o,toggleDetail:n})})))},Le=t(52),Pe=t(572),Te=t(450);function He(){var e=Object(r.a)(["\n  position: absolute;\n  z-index: 15;\n  background: ",";\n  bottom: 0;\n  padding: 1em;\n"]);return He=function(){return e},e}function Ve(){var e=Object(r.a)(["\n  width: 2em;\n  height: 2em;\n  background-color: ",";\n  border-radius: 50%;\n  cursor: pointer;\n"]);return Ve=function(){return e},e}function Fe(){var e=Object(r.a)(["\n  position: relative;\n  grid-area: color;\n  display: flex;\n  align-items: center;\n\n  & span {\n    margin-right: 0.6em;\n  }\n"]);return Fe=function(){return e},e}var Ae=u.d.div(Fe()),Be=u.d.div(Ve(),(function(e){return e.color})),We=Object(u.d)(Te.CirclePicker)(He(),(function(e){return e.theme.colors.primary})),Je=function(e){var n=e.color,t=e.onColorChange,r=Object(o.useState)(!1),c=Object(a.a)(r,2),u=c[0],l=c[1];return i.a.createElement(Ae,null,i.a.createElement("span",null,"Label color"),i.a.createElement(Be,{color:n,onClick:function(){return l((function(e){return!e}))}}),u&&i.a.createElement(We,{color:n,onChangeComplete:function(e){t(e.hex),l(!1)}}))},qe=t(94);function Ie(){var e=Object(r.a)(["\n  background-color: ",";\n"]);return Ie=function(){return e},e}function Ne(){var e=Object(r.a)(["\n  grid-area: desc;\n  align-self: end;\n"]);return Ne=function(){return e},e}function Re(){var e=Object(r.a)(["\n  && input {\n    color: ",";\n  }\n\n  && label {\n    color: ",";\n    font-size: 0.85rem;\n  }\n\n  .MuiInput-underline::after {\n    border-bottom: 2px solid ",";\n  }\n\n  && textarea {\n    color: ",";\n  }\n\n  grid-area: name;\n"]);return Re=function(){return e},e}function Ue(){var e=Object(r.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 0.4fr 0.4fr 0.3fr;\n  grid-template-areas:\n    'name name'\n    'desc desc'\n    'color btn';\n  align-items: center;\n  grid-row-gap: 1em;\n  & label {\n    font-size: 0.85rem;\n  }\n\n  & button {\n    justify-self: center;\n  }\n"]);return Ue=function(){return e},e}var Ge=function(e){var n=e.hide,t=Object(o.useState)("#f44336"),r=Object(a.a)(t,2),c=r[0],u=r[1],l=Object(o.useState)(""),m=Object(a.a)(l,2),f=m[0],p=m[1],b=Object(o.useState)(""),v=Object(a.a)(b,2),g=v[0],h=v[1],j=Object(o.useState)(),O=Object(a.a)(j,2),y=O[0],E=O[1],k=Object(H.a)(),w=function(){var e=Object(s.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=11;break}return t=T.b.collection("users/".concat(null===k||void 0===k?void 0:k.uid,"/habitList")).doc(),e.prev=2,e.next=5,t.set({name:g,description:f,color:c,id:t.id,timePoints:[]});case 5:n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),E(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(Ke,null,y?i.a.createElement(qe.a,null,y.message):i.a.createElement(i.a.Fragment,null,i.a.createElement(Qe,{id:"habit-name",label:"Name",name:"habit-name",onChange:function(e){return h(e.target.value)},placeholder:"TV 2hrs",required:!0,size:"small",value:g}),i.a.createElement(Je,{color:c,onColorChange:u}),i.a.createElement(Xe,{id:"habit-desc",label:"Description",name:"habit-description",onChange:function(e){return p(e.target.value)},placeholder:"",multiline:!0,size:"small",value:f}),i.a.createElement(Ye,{onClick:w,variant:"primary",color:c},"Add new habit")))},Ke=u.d.div(Ue()),Qe=Object(u.d)(Pe.a)(Re(),(function(e){return e.theme.colors.tertiary}),(function(e){return e.theme.colors.tertiary}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.tertiary})),Xe=Object(u.d)(Qe)(Ne()),Ye=Object(u.d)(g.a)(Ie(),(function(e){return e.color})),Ze=t(250),$e=t(51);function _e(){var e=Object(r.a)(["\n  position: relative;\n  grid-area: content;\n"]);return _e=function(){return e},e}var en=u.d.div(_e());n.default=function(){var e=Object($e.a)(),n=Object(a.a)(e,2),t=n[0],r=n[1],o=Object($e.a)(),u=Object(a.a)(o,2),l=u[0],d=u[1],s=Object(c.h)();return i.a.createElement(en,null,i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"".concat(s.path,"/:id")},i.a.createElement(Le.a,{isShowing:l,hide:d,modalHeight:"70vh"},i.a.createElement(U,{hide:d})))),i.a.createElement(Se,{toggleDetail:d}),i.a.createElement(Le.a,{isShowing:t,hide:r,modalHeight:"40vh"},i.a.createElement(Ge,{hide:r})),i.a.createElement(Ze.a,{onClick:r}))}}}]);
//# sourceMappingURL=6.3f2561fd.chunk.js.map